<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Video Generation</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Gemini Video Generation</h1>
        <p id="explanationNote" class="explanation-note">
            <strong>Instructions:</strong>
            Enter your Gemini API Key. Enter a text prompt.
            The system will call the Veo model using <code>predictLongRunning</code> and poll for the video result.
            <br><small>Based on: <a href="https://ai.google.dev/gemini-api/docs/video" target="_blank">Gemini API Video Docs</a></small>
        </p>

        <div class="input-section">
            <div class="api-key-container">
                <label for="geminiApiKey">Gemini API Key:</label>
                <input id="geminiApiKey" placeholder="Enter your Gemini API Key">
                <button id="setApiKeyButton">Set Key</button>
            </div>

            <div class="model-select-container">
                <label for="geminiModel">Select Model:</label>
                <select id="geminiModel">
                    <!-- Options populated by JS -->
                </select>
            </div>

            <div class="prompt-container">
                <label for="promptInput">Prompt:</label>
                <textarea id="promptInput" rows="3" placeholder="Enter your prompt here (e.g., 'A cyberpunk cat walking in the rain')..."></textarea>
                <div class="generation-buttons">
                    <button id="generateButton">Generate Video</button>
                    <button id="stopGenerationButton" style="display: none;">Stop</button>
                </div>
                <button id="showApiCallsButton" style="display:none;">Show API Calls</button>
            </div>
        </div>

        <div id="statusMessage" class="status-message"></div>

        <div class="summary-display">
            <h2>Session Summary</h2>
            <div class="summary-item">
                <strong>Total Duration:</strong> <span id="totalGenerationTime">0s</span>
            </div>
            <!-- Cost is usually 0 for preview or not calculated per token for video -->
            <div class="summary-item">
                <strong>Est. Cost:</strong> <span id="totalEstimatedCost">$0.00</span>
            </div>
        </div>

        <div id="debugInfo" class="debug-container">
            <div id="apiCallsContainer">
                <!-- Individual API call entries will be appended here -->
            </div>
            <button id="closeDebugButton">Close Debug Info</button>
        </div>

        <div class="output-section">
            <label>Generated Output:</label>
            <div id="videoOutputContainer" class="video-output-container"></div>
            <div id="textOutput" class="text-output-box"></div>
        </div>
            
    </div>

    <script src="video_gen.js"></script>
</body>
</html>